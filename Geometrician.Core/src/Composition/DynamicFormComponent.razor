@inherits DynamicFormComponentBase

@if (Inputs.Count == 0)
{
  <TileComponent XScale="0.75" YScale="1">
    This activity has no inputs.
  </TileComponent>
}
<MudForm
  @ref="Form"
  @bind-IsValid="IsValid"
  @bind-Errors="Errors"
  Style="width: fit-content;"
  Class="@($"d-flex gap-{Display.GapMultiplier}")">
  @foreach (ObjectState objectState in States)
  {
    <TileComponent XScale="0.25" YScale="1" Title="@objectState.Title" SubTitle="@objectState.Title"/>

    <TileComponent XScale="0.75" YScale="1" style="overflow: scroll;">
      @foreach (PropertyState propertyState in objectState.Properties)
      {
        <DynamicInputComponent State="@propertyState"/>
      }
    </TileComponent>
  }

  <TileComponent XScale="0.25" YScale="0.5" Padding="false">
    <MudIconButton
      Variant="Variant.Filled"
      Color="Color.Primary"
      Disabled="@(!IsValid)"
      Icon="@Icons.Material.Filled.Send"
      OnClick="SubmitAsync"
      style="width: 100%; height: 100%;"/>
  </TileComponent>
</MudForm>
